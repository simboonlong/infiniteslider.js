var Infiniteslider=function(){var e,t,n,i,o,a,s,u=$("#infinite-slider"),r=$(".infinite-holder"),d=$(".infinite-slide"),c=d.length,h=1,f=d.first(),l=d.last(),v=!1,x=!1,g=!0,p=function(){var t=d.outerWidth()*h;TweenMax.to(r,e/1e3,{x:-t,ease:n}),setTimeout(function(){h<1?(h=c,TweenMax.set(r,{x:-c*d.outerWidth()})):h>c&&(h=1,TweenMax.set(r,{x:-d.outerWidth()})),d.removeClass("is-active"),d.eq(h-1).addClass("is-active"),g=!0},e)},w=function(e){"prev"===e?h--:h++},M=function(){u.on("touchstart mousedown",function(e){a=e.pageX||e.originalEvent.touches[0].pageX,s=e.pageY||e.originalEvent.touches[0].pageY,x=!0}),u.on("touchmove mousemove",function(e){if(g&&x){var t=(e.pageX||e.originalEvent.touches[0].pageX)-a,n=((e.pageY||e.originalEvent.touches[0].pageY)-s,t-d.outerWidth()*h);t<-Math.round(o*d.outerWidth())?(x=!1,g=!1,v=!0,w("next"),p()):t>Math.round(o*d.outerWidth())?(x=!1,g=!1,v=!0,w("prev"),p()):(TweenMax.set(r,{x:n}),v=!1)}}),u.on("touchend mouseup",function(e){if(!v){var n=d.outerWidth()*h;TweenMax.to(r,t/1e3,{x:-n,ease:i})}x=!1}),$(window).on("resize",function(){TweenMax.set(r,{x:-(d.outerWidth()*h)})})},W=function(a){a=a||{},e=a.durationSuccess||700,t=a.durationFail||500,n=a.easingSuccess||"Expo.easeOut",i=a.easingFail||"Expo.easeOut",o=a.threshold||.25,f.before(l.clone(!0)),l.after(f.clone(!0)),d.eq(h-1).addClass("is-active"),TweenMax.set(r,{x:-d.outerWidth()}),M(),u.attr("data-ready","1")};return{init:W}}();